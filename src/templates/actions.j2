{% extends "base.html" %}
{% block title %}Your Actions{% endblock %}
{% block head %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/actions.css') }}">
{% endblock %}
{% block content %}
    <div class="actions-header">
        <h1>Your Actions</h1>
        <a href="{{ url_for("action.new_action") }}" class="new-action-btn">+ New Action</a>
    </div>
    {% if actions %}
        <ul class="action-list">
            {% for act in actions %}
                <li class="action-card">
                    <div class="action-title">{{ act.name }}</div>
                    {% if act.notes %}<div class="action-notes">{{ act.notes }}</div>{% endif %}
                    {% if act.properties %}
                        <details class="action-properties">
                            <summary>Properties</summary>
                            <ul>
                                {% for key, value in act.properties.items() %}
                                    <li>
                                        <strong>{{ key|capitalize }}:</strong> {{ value }}
                                    </li>
                                {% endfor %}
                            </ul>
                        </details>
                    {% endif %}
                    <div class="action-links">
                        <a href="{{ url_for('action.log_activity', action_id=act.id) }}">Add Log</a>
                        <a href="{{ url_for('action.view_action_history', action_id=act.id) }}">View</a>
                        <a href="{{ url_for('dashboard.activity_summary', action_id=act.id) }}">Graphs</a>
                        <a href="{{ url_for('action.edit_action', action_id=act.id) }}">Edit</a>
                    </div>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p class="empty-message">
            No actions yet. <a href="{{ url_for("action.new_action") }}">Create one</a>.
        </p>
    {% endif %}
{% endblock %}
