{% extends "base.html" %}
{% block title %}Account Settings{% endblock %}
{% block content %}
    <div class="settings-container">
        <h1>Account Settings</h1>
        <h2>Change Password</h2>
        <form method="post">
            <input type="hidden" name="action" value="change_password">
            <label>Old Password:</label>
            <input type="password" name="old_password" required>
            <label>New Password:</label>
            <input type="password" name="new_password" required>
            <label>Confirm New Password:</label>
            <input type="password" name="confirm_password" required>
            <button type="submit" class="btn btn-info">Change Password</button>
        </form>
        <hr>
        <h2>Delete Account</h2>
        <form method="post"
              onsubmit="return confirm('Are you sure you want to delete your account? This cannot be undone.');">
            <input type="hidden" name="action" value="delete_account">
            <button type="submit" class="btn btn-danger">Delete My Account</button>
        </form>
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                <ul class="flash">
                    {% for category, message in messages %}<li class="{{ category }}">{{ message }}</li>{% endfor %}
                </ul>
            {% endif %}
        {% endwith %}
    </div>
{% endblock %}
